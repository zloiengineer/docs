#+STARTUP: content
#+STARTUP: inlineimages
#+OPTIONS: ^:{}
#+OPTIONS: toc:nil
#+OPTIONS: date:nil
#+latex_header: \usepackage[T2A]{fontenc}
#+latex_header: \usepackage[utf8]{inputenc}
#+latex_header: \usepackage[russian,english]{babel}
#+PROPERTY: header-args :exports results :eval never-export
#+LANGUAGE: ru
#+TITLE: Gentoo notes
#+AUTHOR: Zloi Engineer

* –û–∫—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ X11
$ - –æ–∑–Ω–∞—á–∞–µ—Ç –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, # - –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –æ—Ç root
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `cat <<EOF > FILE ... EOF` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª FILE –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –æ—á–µ—Ä–µ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞ EOF (–≤–º–µ—Å—Ç–æ EOF –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ)

** xorg-server i3wm
*** USE —Ñ–ª–∞–≥–∏
–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π X–æ–≤ –∏ WM –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å USE —Ñ–ª–∞–≥–∏
#+BEGIN_SRC bash
# grep USE /etc/portage/make.conf
USE="xft elogind xinerama pulseaudio savedconfig dbus"
#+END_SRC

xft –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ HiDPI —à—Ä–∏—Ñ—Ç–æ–≤
elogind —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞ systemd-logind –Ω–µ —Ç—è–Ω—É—â–∞—è –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º systemd

*** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ xorg-server –∏ i3wm
#+BEGIN_SRC bash
# emerge -a x11-wm/i3 x11-misc/i3lock x11-misc/i3status x11-base/xorg-server x11-apps/xinit
# rc-update add elogind boot
#+END_SRC

https://wiki.gentoo.org/wiki/Xorg/Guide/ru
https://wiki.gentoo.org/wiki/I3
*** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–∫ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:

#+BEGIN_SRC bash
# emerge -a x11-apps/setxkbmap
$ # –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
$ setxkbmap -query
$ # —Ä—É—Å—Å–∫–∞—è –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º–∞—è –ø–æ CapsLock
$ setxkbmap -layout us,ru -option grp:caps_toggle -option grp_led:caps
$ # –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Xorg
$ cat <<EOF > /etc/X11/xorg.conf.d/10-keyboard.conf
Section "InputClass"
    Identifier "keyboard-all"
    Driver "evdev"
    Option "XkbLayout" "us,ru"
    Option "XkbOptions" "grp:caps_toggle,grp_led:caps"
    MatchIsKeyboard "on"
EndSection
EOF
#+END_SRC

https://wiki.gentoo.org/wiki/Keyboard_layout_switching/ru
*** –¢—é–Ω–Ω–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç–∞—á–ø–∞–¥–∞:

#+BEGIN_SRC bash
# cat <<EOF > /etc/X11/xorg.conf.d/40-libinput.conf
Section "InputClass"
	Identifier "libinput touchpad catchall"
	MatchIsTouchpad "on"
	MatchDevicePath "/dev/input/event*"
	Driver "libinput"
	Option "Tapping" "True"
 	Option "TappingDrag" "True"	
EndSection
EOF
#+END_SRC

*** –®—Ä–∏—Ñ—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HiDPI
–®—Ä–∏—Ñ—Ç—ã-–∏–∫–æ–Ω–∫–∏ –∏ –∫—Ä–∞—Å–∏–≤—ã–µ —à—Ä–∏—Ñ—Ç—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
#+BEGIN_SRC bash
# emerge -a media-fonts/noto-emoji media-fonts/liberation-fonts media-fonts/dejavu
#+END_SRC

–ù–∞ —ç–∫—Ä–∞–Ω–∞—Ö —Å –±–æ–ª—å—à–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–∏.
–í–º–µ—Å—Ç–æ 165 –Ω—É–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å —É—Å—Ç—Ä–∞–∏–≤–∞—é—â–µ–µ —á–∏—Å–ª–æ.
#+BEGIN_SRC bash
$ echo "Xft.dpi: 165" >> ~/.Xresources
#+END_SRC

*** –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –≤—Ö–æ–¥–∞ (–¥–ª—è —Ä–∞–±–æ—Ç—ã startx):
#+BEGIN_SRC bash
$ cat <<EOF > ~/.xinitrc
#!/bin/sh
# –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ ssh-–∞–≥–µ–Ω—Ç –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π
# ssh-add -l 
eval `ssh-agent`
file ~/.ssh/* | grep "private key" | sed -e "s/: *.*//g" | xargs ssh-add
# Set DPI
xrdb -merge ~/.Xresources
exec dbus-launch --exit-with-session i3
EOF
#+END_SRC

https://wiki.gentoo.org/wiki/Xorg/Guide/ru#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_startx
*** –ó–∞–ø—É—Å–∫
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–∫–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
#+BEGIN_SRC bash
$ startx
#+END_SRC

–î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∑–∞–¥: —Å–æ—á–µ—Ç–∞–Ω–∏–µ –∫–ª–∞–≤–∏—à Win+Shift+e -> Yes, exit i3

*** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ i3status
i3status - –ø–∞–Ω–µ–ª—å –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª .config/i3status/config, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –∑–Ω–∞—á–∏—Ç –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ
–∏–∑ /etc:
#+begin_src
  $ mkdir .config/i3status
  $ cp /etc/i3status.conf .config/i3status/config
#+end_src

–ù–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–æ—É—Ç–±—É–∫–∞ –≤–∞–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–∏, –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ .config/i3status/config:
#+begin_src 
battery all {
        format = "%status %percentage %remaining"
        format_down = "No battery"
        status_chr = "‚ö°"
        status_bat = "üîã"
        status_unk = "?"
        status_full = "üîã"
}
order += "battery all"
#+end_src
*–ò–∫–æ–Ω–∫–∏:* –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–∫–æ–Ω–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è utf-8 —Å–∏–º–≤–æ–ª, –¥–ª—è –µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
–≤ —Å–∏—Å—Ç–µ–º–µ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —à—Ä–∏—Ñ—Ç –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —ç—Ç–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤.
–ù–∞–ø—Ä–∏–º–µ—Ä –≤ —Ä–∞–∑–¥–µ–ª–µ [[–®—Ä–∏—Ñ—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HiDPI][–®—Ä–∏—Ñ—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HiDPI]] –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω _media-fonts/noto-emoji_

–ü—Ä–∏–º–µ—Ä –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

#+begin_src
order += "disk /"
order += "cpu_temperature 0"
order += "cpu_usage 0"
order += "memory"
order += "tztime local"

disk "/" {
        format = "%avail"
}

cpu_temperature 0 {
	format = "%degrees¬∞C"
    # path = "/sys/devices/platform/coretemp.0/hwmon/hwmon5/temp1_input"
}

memory {
        format = "%used/%total"
        threshold_degraded = "1G"
        format_degraded = "MEMORY < %available"
}

tztime local {
        format = "%d.%m %H:%M"
}
#+end_src

https://i3wm.org/i3status/manpage.html
** GUI —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è DE
DE - desktop environment —ç—Ç–æ –Ω–∞–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç "—Å—Ä–µ–¥—É".

https://wiki.gentoo.org/wiki/Recommended_applications
*** –≠–º—É–ª—è—Ç–æ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
–ë–µ–∑ —Å–æ—Ñ—Ç–∞ –≤ i3 –æ—Å–æ–±–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–µ—à—å - –Ω—É–∂–µ–Ω —Ö–æ—Ç—è–±—ã —ç–º—É–ª—è—Ç–æ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä alacritty.

#+BEGIN_SRC bash
# emerge -a x11-terms/alacritty
#+END_SRC


*** –ó–∞–ø—É—Å–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º
Rofi - –∑–∞–ø—É—Å–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å—Ç–∏–≤ 1 —Ä–∞–∑ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ firefox-bin
–≤–æ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–∂–∞—Ç—å –∫–ª–∞–≤–∏—à—É f –∏ Enter –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–∑ –ø–æ–¥—Å–∫–∞–∑–∞–Ω—ã—Ö rofi.
#+BEGIN_SRC bash
  # emerge -a x11-misc/rofi
#+END_SRC
    
–î–ª—è –µ–≥–æ –∏–Ω—Ç–µ—Ä–∞—Ü–∏–∏ –≤ i3 –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª `~/.config/i3/config` –¥–æ–±–∞–≤–∏–≤ —Å—Ç—Ä–æ–∫–∏
#+BEGIN_SRC bash
  bindsym $mod+d exec rofi -show run
  bindsym mod1+Tab exec rofi -show window
#+END_SRC

*** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é –∑–≤—É–∫–∞
–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CLI —É—Ç–∏–ª–∏—Ç—É pulseaudio –¥–æ–±–∞–≤–∏–≤ –≤ –∫–æ–Ω—Ñ–∏–≥ i3:
#+BEGIN_SRC bash
bindsym XF86AudioLowerVolume exec "pactl set-sink-volume @DEFAULT_SINK@ -5%"
bindsym XF86AudioRaiseVolume exec "pactl set-sink-volume @DEFAULT_SINK@ +5%"
# bindsym XF86AudioMute exec "pactl set-sink-volume @DEFAULT_SINK@ 0%"
bindsym XF86AudioMute exec "pactl set-sink-mute @DEFAULT_SINK@ toggle"
#+END_SRC

–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –≤ i3status –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ .config/i3status/config
#+begin_src
  volume master {
        format = "‚ô™%volume"
        format_muted = "‚ô™X(%volume)"
        device = "default"
        mixer = "Master"
        mixer_idx = 0
  }
  order += "volume master"
#+end_src

*** –°–æ–∑–¥–∞–Ω–∏–µ well-known –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (Downloads, Pictures, Documents...)
xdg-user-dirs —Å–æ–∑–¥–∞–µ—Ç –Ω–∞–±–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (Download, Pictures –∏ —Ç.–ø.)
–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–Ω–æ–≥–∏–µ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏
(—Ç.–µ. –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–∏–º–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–∞—Å–∫–ª–∞–¥–∫—É)
–Ω—É–∂–Ω–æ 1 —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–æ–π –ª–æ–∫–∞–ª—å—é:

#+BEGIN_SRC bash
  # emerge -a x11-misc/xdg-user-dirs
  $ LANG=C xdg-user-dirs-update
#+END_SRC

*** –ù–µ—Å–∫—É—á–Ω—ã–µ –æ–±–æ–∏
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–æ–µ–≤ feh:
#+BEGIN_SRC bash
  # emerge -a media-gfx/feh
  $ feh --bg-scale ~/Pictures/wallpaper.png
#+END_SRC

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–±–æ–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ feh —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª .fehbg –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
–µ–≥–æ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑ .config/i3/config:

#+BEGIN_SRC bash
  exec_always --no-startup-id "~/.fehbg"
#+END_SRC

*** –í—Å–ø–ª—ã–≤–∞—à–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
Dunst –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

#+begin_src bash
   # emerge -a x11-misc/dunst
#+end_src

–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–∏–≤ –≤ .config/i3/config:

#+BEGIN_SRC
exec dunst
#+END_SRC

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –µ–≥–æ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
#+BEGIN_SRC bash
$ notify-send hello
#+END_SRC

https://wiki.gentoo.org/wiki/Dunst
*** –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã (–ø–ª–∞–≤–Ω–æ—Å—Ç—å, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤)

#+BEGIN_SRC bash
# emerge -a x11-misc/picom
$ cat <<EOF > .config/picom.conf
cat .config/compton.conf
fading=true;
no-dock-shadow=true;
inactive-opacity=0.8;
# active-opacity=0.9;
wintypes: {
  # unknown = { focus=false; };
  # desktop = { focus=false; };
  # dock = { focus=false; };
  # splash = { focus=false; };
  # normal = { focus=false; };
  # notify = { focus=false; };
  # combo = { focus=false; };
  # dnd = { focus=false; };
  # tooltip       = { focus=false; };
  # dialog        = { focus=false; };
  # toolbar       = { focus=false; };
  # dropdown_menu = { focus=false; };
  # popup_menu    = { focus=false; };
  # menu          = { focus=false; };
  # firefox suggests
  utility       = { fade=false; focus=true; };
};
fade-delta=5;
focus-exclude=[
  "name='i3lock'"
  ,"class_g = 'Rofi'"
];

mark-ovredir-focused=true;
mark-wmwin-focused=true;
# telegram not become transparent while stil focused
use-ewmh-active-win = true;
detect-transient=true;
detect-client-leader=true;
detect-client-opacity = true;
EOF
#+BEGIN_END

–¢–∞–∫–∂–µ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ .config/i3/config:
#+BEGIN_SRC bash
exec --no-startup-id picom --daemon
#+END_SRC

https://wiki.gentoo.org/wiki/Picom
*** –ë—Ä–∞—É–∑–µ—Ä
–°–±–æ—Ä–∫–∞ firefox –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∑–∞–π–º–µ—Ç –ø—Ä–∏–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è, –ø–æ —ç—Ç–æ–º—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∏–Ω–∞—Ä–Ω–æ–π —Å–±–æ—Ä–∫–æ–π:

#+BEGIN_SRC bash
# emerge --ask firefox-bin
#+END_SRC

*** –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
pcmanfm - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –Ω–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä.
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —á–∏—Å–ª–µ –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (–≤–∏–¥–∏–º–æ –Ω–µ –±—ã–ª –æ—Ç—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è x86_64), –ø–æ —ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É.
–ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è ~amd64 –≤ accept_keywords:
#+BEGIN_SRC bash
    # cat <<EOF >> /etc/portage/package.accept_keywords/zz-autounmask
# required by x11-misc/pcmanfm-1.3.2-r1::gentoo
# required by x11-misc/pcmanfm (argument)
=x11-libs/libfm-1.3.2-r1 ~amd64
# required by x11-misc/pcmanfm (argument)
=x11-misc/pcmanfm-1.3.2-r1 ~amd64
EOF
    # emerge -a x11-misc/pcmanfm
#+END_SRC

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Ä–∞–∑–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤:
https://wiki.gentoo.org/wiki/Knowledge_Base:Unmasking_a_package
https://wiki.gentoo.org/wiki/Knowledge_Base:Accepting_a_keyword_for_a_single_package

https://wiki.gentoo.org/wiki/PCManFM

*** –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä (—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ pcmanfm)
#+begin_src bash
  # emerge -a app-arch/engrampa
#+end_src

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ pcmanfm –ø–æ—è–≤—è—Ç—Å—è –ø—É–Ω–∫—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –¥–ª—è —Ä–∞–∑–∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞.

*** –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
#+begin_src bash
  # emerge -a app-editors/mousepad
#+end_src
*** –°–∫—Ä–∏–Ω—à–æ—Ç—ã
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ libmagick –∏–º–µ–µ—Ç –≤ —Å–≤–æ–µ–º —Å–æ—Å—Ç–∞–≤–µ —Ä—è–¥ —É—Ç–∏–ª–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ–Ω–∞ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã.
#+begin_src
  # emerge --ask media-gfx/imagemagick x11-misc/xclip
#+end_src
xclip - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞ –∏–∑ CLI.

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ .config/i3/config —Å–æ—á–µ—Ç–∞–Ω–∏—è –∫–ª–∞–≤–∏—à—å
#+begin_src
bindsym Print exec "sleep 0.2; import png:- | xclip -selection clipboard -t image/png"
bindsym control+Print exec "sleep 0.2; import png:/tmp/scr_$(date --iso-8601=seconds).png | xclip -selection clipboard -t image/png"
#+end_src
–ù–∞–∂–∞—Ç–∏–µ PrtSc –ø–æ–∑–≤–æ–ª–∏—Ç —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞, Ctrl-PrtSc —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –≤ /tmp

https://wiki.gentoo.org/wiki/ImageMagick
*** –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä
#+begin_src bash
  # emerge -a media-video/mpv
  $ mkdir .config/mpv
  $ echo hwdec=auto > .config/mpv/mpv.conf
#+end_src
*** PDF
#+begin_src bash
  # echo "app-text/evince djvu" > /etc/portage/package.use/evince
  # emerge -a app-text/evince
#+end_src
*** –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–ª–µ—à–µ–∫
–î–æ–±–∞–≤–∏—Ç—å –≤ USE —Ñ–ª–∞–≥–∏ –≤ /etc/portage/make.conf udisk policykit.
#+begin_src bash
  # emerge -a sys-fs/udiskie sys-auth/polkit
#+end_src

–î–æ–ª–∂–Ω–∞ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å pcmanfm.
–¢–∞–∫–∂–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
#+begin_src
  $ udisksctl mount -b /dev/sda1
#+end_src

https://wiki.gentoo.org/wiki/Udisks
https://wiki.gentoo.org/wiki/Polkit
*** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞
#+begin_src
  # sudo emerge -a x11-misc/xautolock x11-apps/xrandr
  $ mkdir ~/bin
  $ cat <<EOF > ~/bin/screen_lock
#!/bin/sh -e

SCREEN_RES=$(xrandr | grep "primary" | sed 's/.*primary \([0-9]*x[0-9]*\)+.*/\1/g')
# Take a screenshot
[ -f /tmp/screen_locked.png ] && rm -f /tmp/screen_locked.png
import -window root /tmp/screen_locked.png

# Pixellate it 10x
mogrify -scale 10% -scale 1000% /tmp/screen_locked.png

# Lock screen displaying this image.
# –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é i3lock
# pkill picom |:
flock -n /tmp/screen_lock.lock -c "i3lock -n -f -i /tmp/screen_locked.png"
# –µ—Å–ª–∏ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —É–±–∏–≤–∞–ª–∏ picom - –Ω—É–∂–Ω–æ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
# flock -n /tmp/screen_lock.lock -c "i3lock -n -f -i /tmp/screen_locked.png; picom -b"  
EOF
  $ chmod +x ~/bin/screen_lock
  $ cat <<EOF >> ~/.config/i3/config
bindsym control+mod1+l exec "~/bin/screen_lock"
exec "xautolock -time 3 -locker '~/bin/screen_lock' -notify 10 -notifier 'notify-send \"Screen lock in 10 seconds...\"' &"
EOF
#+end_src

–¢–µ–ø–µ—Ä—å –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞ –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å Ctrl-Alt-l.
–¢–∞–∫–∂–µ, —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 –º–∏–Ω—É—Ç—ã —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –æ–± —ç—Ç–æ–º –∑–∞ 10 —Å–µ–∫—É–Ω–¥.
** –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —Ç–µ–º—ã
–≠—Ç–æ –æ—á–µ–Ω—å –æ–±—à–∏—Ä–Ω—ã–π –≤–æ–ø—Ä–æ—Å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–æ–≤,
–≤ —Ç–æ–º —á–∏—Å–ª–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤ .Xresources.
–ü–æ–∫–∞ —á—Ç–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π, —Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–± —á–∞—Å—Ç–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.

–í —Ñ–∞–π–ª–µ .config/i3/config –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —á–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
#+begin_example
# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        status_command i3status
}
#+end_example

–∏ –∑–∞–º–µ–Ω–∏—Ç—å –µ–µ –Ω–∞
#+begin_src
# $i3-theme-window
# solarized accents
set $yellow	#b58900
set $orange	#cb4b16
set $red	#dc322f
set $magenta	#d33682
set $violet	#6c71c4
set $blue	#268bd2
set $cyan	#2aa198
set $green	#859900

# solarized light
set $baseA3 #fdf6e3
set $baseA2 #eee8d5
set $baseA1 #93a1a1
set $baseA0 #839496
set $baseB0 #657b83
set $baseB1 #586e75
set $baseB2 #073642
set $baseB3 #002b36
set $custom #e1cab3

# $i3-background
exec_always --no-startup-id xsetroot -solid '$baseA2'

###################
# solarized (clean)
###################
# clientclass 			border  backgr. text 	indicator
client.focused 			$green	$green	$baseB3 $blue
client.focused_inactive		$cyan	$cyan	$baseB2 $violet
client.unfocused  		$baseA2 $baseA2 $baseB1 $baseA1
#client.urgent 	 		$orange $orange $baseB3 $red
client.urgent 	 		$yellow $yellow $baseB3 $orange

# $i3-theme-bar
bar {
colors {
 	# status
	separator $blue
 	background $baseA3
	statusline $baseB2

 	###################
	# solarized (clean)
	###################
 	# workclass 			border  backgr. text
 	focused_workspace		$green  $green  $baseA3
 	active_workspace		$cyan   $cyan   $baseA2
 	inactive_workspace		$baseA2 $baseA2 $baseB1
 	urgent_workspace		$orange $orange $baseB3
 	#urgent_workspace		$yellow $yellow $baseB3
}
    status_command i3status
}
#+end_src

–í —Ñ–∞–π–ª–µ .config/i3status/config –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏
#+begin_example
general {
        colors = true
        interval = 5
}
#+end_example

–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞
#+begin_src
general {
	colors = true
	interval = 5
	color_bad = "#DC322F"
	color_degraded = "#b58900"
	color_good = "#859900"
}
#+end_src

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è dunst:
#+begin_src
  $ mkdir .config/dunst/
  $ cat <<EOF > .config/dunst/dunstrc
  [urgency_low]
    background = "#eee8d5"
    foreground = "#586e75"
    frame_color = "#2aa198"
    timeout = 10

[urgency_normal]
    background = "#eee8d5"
    foreground = "#586e75"
    frame_color = "#859900"
    timeout = 10

[urgency_critical]
    background = "#eee8d5"
    foreground = "#586e75"
    frame_color = "#6c71c4"
    timeout = 0
EOF
#+end_src
** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∫–∞—Ä—Ç—ã –∏ –∞–ø–ø–∞—Ä—Ç–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤
#+begin_src bash
  # echo "media-video/ffmpeg encode libdrm libv4l mp3 network openal opencl openh264 opus truetype v4l vorbis wepb x264 x265 zlib" > etc/portage/package.use/ffmpeg
#+end_src

–î–æ–±–∞–≤–∏—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π USE –≤ /etc/portage/make.conf vaapi.


#+begin_src bash
# emerge -a x11-apps/mesa-progs media-video/libva-utils media-libs/libva-intel-media-driver x11-apps/igt-gpu-tools
#+end_src

–í—ã–∑–æ–≤ vainfo –ø–æ–∫–∞–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–¥–µ–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥—Ä–∞–π–≤–µ—Ä:
#+begin_src
$ vainfo
Trying display: x11
libva info: VA-API version 1.21.0
libva info: Trying to open /usr/lib64/va/drivers/iHD_drv_video.so
libva info: Found init function __vaDriverInit_1_21
libva info: va_openDriver() returns 0
vainfo: VA-API version: 1.21 (libva 2.21.0)
vainfo: Driver version: Intel iHD driver for Intel(R) Gen Graphics - 24.1.5 ()
vainfo: Supported profile and entrypoints
      VAProfileNone                   :	VAEntrypointVideoProc
      VAProfileNone                   :	VAEntrypointStats
      VAProfileMPEG2Simple            :	VAEntrypointVLD
      VAProfileMPEG2Simple            :	VAEntrypointEncSlice
      VAProfileMPEG2Main              :	VAEntrypointVLD
      VAProfileMPEG2Main              :	VAEntrypointEncSlice
      VAProfileH264Main               :	VAEntrypointVLD
      VAProfileH264Main               :	VAEntrypointEncSlice
      VAProfileH264Main               :	VAEntrypointFEI
      VAProfileH264Main               :	VAEntrypointEncSliceLP
      VAProfileH264High               :	VAEntrypointVLD
      VAProfileH264High               :	VAEntrypointEncSlice
      VAProfileH264High               :	VAEntrypointFEI
      VAProfileH264High               :	VAEntrypointEncSliceLP
  ...
#+end_src

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ X11 direct rendering:
#+begin_src
  $ glxinfo | grep rendering
direct rendering: Yes
#+end_src

igt-gpu-tools —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π gpu:
#+begin_src bash
  # intel_gpu_top
#+end_src

–ï—Å–ª–∏ Video >0% –∑–Ω–∞—á–∏—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPU


–í firefox –∑–∞–π—Ç–∏ –≤ about:support –∏ –Ω–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª –ú–µ–¥–∏–∞ -> –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ enchanced-h264ify –∏ –≤—ã–∫–ª—é—á–∏—Ç—å –≤ –Ω–µ–º —Ç–µ –∫–æ–¥–µ–∫–∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç.
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ intel_gpu_top —á—Ç–æ –ø—Ä–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–∏ –≤–∏–¥–µ–æ –Ω–∞ —é—Ç—É–±–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ.
–ù–∞ —é—Ç—É–±–µ –ü–ö–ú -> –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ -> –ø–æ–ª–µ fmt –±—É–¥–µ—Ç —Å–æ–∂–µ—Ä–∞—Ç—å –Ω–æ–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞,
—Å–¥–µ–ª–∞–≤ –Ω–∞ –≤–∏–¥–µ–æ yt-dlp -F  –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ —ç—Ç–æ –∑–∞ —Ñ–æ—Ä–º–∞—Ç

https://wiki.gentoo.org/wiki/Intel
https://wiki.gentoo.org/wiki/Xorg/Hardware_3D_acceleration_guide
https://wiki.gentoo.org/wiki/VAAPI

https://trac.ffmpeg.org/wiki/Hardware/VAAPI
https://trac.ffmpeg.org/wiki/Hardware/QuickSync
** –°–æ–Ω suspend/hibernate
–î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏

https://wiki.gentoo.org/wiki/Suspend_and_hibernate
** –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
#+begin_src bash
  # echo "sys-fs/ecryptfs-utils ~amd64" >> /etc/portage/package.accept_keywords/zz-autounmask
  # emerge -a sys-fs/ecryptfs-utils sys-fs/cryptsetup
  # echo ecryptfs >> /etc/modules-load.d/ecryptfs
  # cat <<EOF >>/etc/pam.d/system-auth
auth		optional	pam_ecryptfs.so unwrap
session		optional	pam_ecryptfs.so unwrap
EOF
  # ecryptfs-migrate-home -u USERNAME
#+end_src



*** Swap
–í /etc/fstab –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å swap –∏ –¥–æ–±–∞–≤–∏—Ç—å:
#+begin_src
  /dev/mapper/cryptswap1 none swap sw 0 0
#+end_src

–í —Ñ–∞–π–ª /etc/conf.d/dmcrypt –¥–æ–±–∞–≤–∏—Ç—å:
#+begin_src
swap=cryptswap1
#source=UUID='3e8426b9-3a77-4fa7-96c7-fc05e0e3921e'
source=/dev/nvme0n1p2
options='--cipher=aes-xts-plain64 --key-size=512 --key-file=/dev/urandom'
#+end_src

#+begin_src bash
  # rc-config add dmcrypt boot
#+end_src

https://wiki.gentoo.org/wiki/ECryptfs
** TODO –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
*–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ rofi*: –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑ –∫—Ä–æ–º–µ 1–æ–≥–æ –æ–Ω –±—É–¥–µ—Ç –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å
–ø—Ä–∏ –Ω–∞—á–∞–ª–µ –Ω–∞–±–æ—Ä–∞ —á–∞—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –µ–µ –æ—Å—Ç–∞–≤—à—É—é—Å—è —á–∞—Å—Ç—å, –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã
–¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –Ω–∞–∂–∞—Ç–∏–π –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–¥–Ω–∞–∂–¥—ã –∫–æ–º–∞–Ω–¥–∞ —É–∂–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞:
–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å —á–∞—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –Ω–∞–∂–∞—Ç—å —ç–Ω—Ç–µ—Ä –∫–æ–≥–¥–∞ –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –∏—Å–∫–æ–º–∞—è.

|------------------------------------+--------------------------------------------------------|
| –≤—Ö–æ–¥                               | startx                                                 |
| –≤—ã—Ö–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª                   | Win-Shift-e                                            |
| –≤—ã–∫–ª—é—á–µ–Ω–∏–µ                         | Win-D "loginctl poweroff" (–≤—Å–µ —Ä–∞–∑—ã –ø–æ—Å–ª–µ 1–≥–æ: "po")   |
| Suspend                            | Win-D "loginctl suspend" (–≤—Å–µ —Ä–∞–∑—ã –ø–æ—Å–ª–µ 1–≥–æ: "sus")   |
| Hibernate                          | Win-D "loginctl hibernate" (–≤—Å–µ —Ä–∞–∑—ã –ø–æ—Å–ª–µ 1–≥–æ: "hib") |
| –æ—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä                    | Win-D firefox (–≤—Å–µ —Ä–∞–∑—ã –ø–æ—Å–ª–µ 1–≥–æ: "fi" )              |
| –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä          | Win-D pcmanfm (–≤—Å–µ —Ä–∞–∑—ã –ø–æ—Å–ª–µ 1–≥–æ: "fm")               |
| –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞                  | Ctrl-Alt-l                                             |
|                                    |                                                        |
| –æ—Ç–∫—Ä—ã—Ç—å —ç–º—É–ª—è—Ç–æ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞         | Win-Enter                                              |
| –∑–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ                       | Win-Shift-Q                                            |
| –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ ‚Ññ         | Win-<—á–∏—Å–ª–æ>                                            |
| –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –æ–∫–Ω–æ –Ω–∞ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ ‚Ññ | Win-Shift-<—á–∏—Å–ª–æ>                                      |
| –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ –¥—Ä—É–≥–æ–µ –æ–∫–Ω–æ   | Win-<—Å—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ> –∏–ª–∏ Win-<—Å—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ>           |
|------------------------------------+--------------------------------------------------------|

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ—á–µ—Ç–∞–Ω–∏—è–º –∫–ª–∞–≤–∏—à –≤ i3wm
https://i3wm.org/docs/userguide.html
** –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
#+BEGIN_SRC bash
# emerge -a app-admin/sudo app-editors/vim app-misc/mc sys-process/htop dev-vcs/git sys-apps/lm-sensors
#+END_SRC


–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π dash –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤–º–µ—Å—Ç–æ /bin/sh -> /bin/bash
#+begin_src bash
  # echo "app-alternatives/sh -bash dash" > /etc/portage/package.use/sh
  # emerge -a app-alternatives/sh
#+end_src

https://wiki.gentoo.org/wiki/Dash
https://wiki.gentoo.org/wiki/Shell#Configuration
